# ============================================
# FastBidder - Environment Variables Template
# ============================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# This file shows required configuration without sensitive data.
# Safe to commit to repository.
# ============================================

# --------------------------------------------
# API Configuration
# --------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# --------------------------------------------
# Celery Configuration
# --------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_TRACK_STARTED=true
CELERY_TASK_TIME_LIMIT=300

# --------------------------------------------
# Redis Configuration
# --------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_CACHE_TTL=3600

# --------------------------------------------
# Docker Configuration
# --------------------------------------------
REDIS_DOCKER_PORT=6379
FLOWER_DOCKER_PORT=5555

# --------------------------------------------
# File Processing (Phase 3)
# --------------------------------------------
MAX_FILE_SIZE_MB=10
ALLOWED_EXTENSIONS=.xlsx,.xls
TEMP_DIR=/tmp/fastbidder                    # Base directory for uploaded files (jobs in subdirectories: {TEMP_DIR}/{job_id}/)
FILE_CLEANUP_HOURS=24

# --------------------------------------------
# Matching Configuration (Phase 3)
# --------------------------------------------
DEFAULT_THRESHOLD=75
RETRIEVAL_TOP_K=20                          # Phase 4: Stage 1 candidate count (max: 500)
PARAM_WEIGHT=0.4                            # Hybrid matching: 40% parameter matching
SEMANTIC_WEIGHT=0.6                         # Hybrid matching: 60% semantic matching
MAX_DESCRIPTIONS_PER_REQUEST=100            # Phase 3 happy path limit (will be increased to 400 in Phase 5)

# --------------------------------------------
# Phase 4: AI Matching Configuration
# --------------------------------------------
USE_AI_MATCHING=true
CHROMA_PERSIST_DIR=./data/chroma_db         # ChromaDB vector store persistence directory
CHROMA_COLLECTION_NAME=hvac_descriptions    # ChromaDB collection name for HVAC embeddings
EMBEDDING_MODEL=paraphrase-multilingual-MiniLM-L12-v2  # Sentence-transformers model for embeddings

# --------------------------------------------
# Development
# --------------------------------------------
DEBUG=true
RELOAD=true
LOG_LEVEL=INFO
TESTING=false
